# 01. 인스턴스 멤버를 사용하여 코드의 재사용성을 높인다.
> 스태틱 멤버를 사용하면 **같은 일을 하는 클래스임에도** 다루는 **필드**가 다르다는 이유로 반복적으로 정의해야한다.

## 인스턴스 멤버 사용 전
### 스태틱 멤버의 한계
스태틱 필드는 클래스를 로딩할 때 생성된다. 클래스는 최초 사용 시점에 **한 번만 로딩**되기 때문에 스태틱 필드도 **한 번만 생성**된다. 그렇기 때문에 스태틱 필드만 사용해서 코드를 작성하는 것에는 분명 어떤 한계가 있을 것이다.

아래와 같이 스태틱 필드만 사용하여 게시판 클래스를 만들어 보았다.

```java
public class BoardHandler {

  static class Board {
    int no;
    String title;
    String content;
    String writer;
    Date registeredDate;
    int viewCount;
  }
  static final int LENGTH = 100;
  static Board[] list = new Board[LENGTH]; // 스태틱 필드로 게시판을 선언
  static int size = 0;

  public static void add() {
    System.out.println("[게시물 등록]");

    Board board = new Board();
    board.no = Prompt.inputInt("번호? ");
    board.title = Prompt.inputString("제목? ");
    board.content = Prompt.inputString("내용? ");
    board.writer = Prompt.inputString("작성자? ");
    board.registeredDate = new Date(System.currentTimeMillis());
    board.viewCount = 0;

    list[size++] = board;

    System.out.println("게시글을 등록하였습니다.");
  }

  public static void list() {
    System.out.println("[게시물 목록]");

    for (int i = 0; i < size; i++) {
      Board board = list[i];
      System.out.printf("%d, %s, %s, %s, %d\n",
          board.no, 
          board.title, 
          board.writer, 
          board.registeredDate, 
          board.viewCount);
    }
  }
}

```

### 인스턴스 필드의 필요성
`Board[] list`가 스태틱 필드이고 스태틱 필드는 단 한번만 생성되기 때문에 이 클래스 가지고는 **게시판을 단 하나 밖에 만들 수 없다.** 
따라서 게시판을 추가로 더 만들고 싶으면 `Board[]`를 추가로 선언해야하고, 그 게시판을 다루는 스태틱 메서드들도 추가해줘야한다. 
즉, **같은 일을 하는 클래스임에도** 다루는 **필드**가 다르다는 이유로 반복적으로 정의해야하는 것이다. 


![image](https://user-images.githubusercontent.com/68311318/148520928-643278bb-dda0-4c57-9585-6beec4e03ffd.png)  
위 그림과 같이 똑같은 코드를 반복해서 작성해야 한다.

> 그렇기 때문에 코드를 재사용하기 위해서 **인스턴스 필드**를 사용해야 한다.

### 필드를 인스턴스 필드로 선언할지 스태틱 필드로 선언할지를 결정하는 기준
- 공통으로 사용할 값을 보관해야 하는 변수는 스태틱 필드로 만든다.
- 개별적으로 값을 보관해야 하는 변수는 인스턴스 필드로 만든다.

메서드 내에서 인스턴스 필드를 사용하지 않는다면, static을 붙이는 것을 고려하자. 메서드 호출시간이 짧아지므로 성능이 향상된다. 인스턴스 메서드는 실행 시 호출되어야할 메서드를 찾는 과정이 추가적으로 필요하기 때문에 시간이 더 걸린다.

## 인스턴스 멤버 사용 후
인스턴스 필드를 사용하니 하나의 클래스만으로 여러개의 게시판을 다룰 수 있다.

```java
public class BoardHandler {

  static class Board {
    int no;
    String title;
    String content;
    String writer;
    Date registeredDate;
    int viewCount;
  }
  // 공통으로 사용할 값을 보관해야 하는 변수는 스태틱 멤버로 만든다.
  static final int LENGTH = 100;
  // 개별적으로 값을 보관해야 하는 변수는 인스턴스 필드로 만든다.
  Board[] list = new Board[LENGTH];
  int size = 0;

  public void add() {
    System.out.println("[게시물 등록]");

    Board board = new Board();
    board.no = Prompt.inputInt("번호? ");
    board.title = Prompt.inputString("제목? ");
    board.content = Prompt.inputString("내용? ");
    board.writer = Prompt.inputString("작성자? ");
    board.registeredDate = new Date(System.currentTimeMillis());
    board.viewCount = 0;

    this.list[this.size++] = board;

    System.out.println("게시글을 등록하였습니다.");
  }

  public void list() {
    System.out.println("[게시물 목록]");

    for (int i = 0; i < this.size; i++) {
      Board board = this.list[i];
      System.out.printf("%d, %s, %s, %s, %d\n",
          board.no,
          board.title,
          board.writer,
          board.registeredDate,
          board.viewCount);
    }
  }
}

```

## 기타
### 스태틱 맴버가 인스턴스 맴버를 사용할 수 없는 이유
인스턴스 멤버가 존재하는 시점에 스태틱 멤버는 항상 존재하지만, 스태틱 멤버가 존재하는 시점에 인스턴스 멤버가 존재하지 않을 수도 있다. 따라서 스태틱 메서드는 인스턴스 필드를 사용할 수 없다.

OOA/D(Object-Oriented Analysis/Design)에서는 인스턴스 필드를 다루는 인스턴스 메서드를 **연산자**(operator)라 부른다.